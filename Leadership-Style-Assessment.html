<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leadership Style Assessment | Chapman University</title>
    <style>
        :root {
            --chapman-blue: #00205B;
            --chapman-gold: #C4A000;
            --gold-light: #F5E6A3;
            --blue-light: #E8EDF5;
            --blue-medium: #1A3A7A;
            --text-primary: #1a1a2e;
            --text-secondary: #4a4a5a;
            --white: #ffffff;
            --directing: #C62828;
            --coaching: #F57C00;
            --supporting: #2E7D32;
            --delegating: #1565C0;
            --shadow-subtle: 0 2px 8px rgba(0, 32, 91, 0.08);
            --shadow-medium: 0 4px 20px rgba(0, 32, 91, 0.12);
            --shadow-strong: 0 8px 32px rgba(0, 32, 91, 0.18);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', 'Roboto', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.7;
            color: var(--text-primary);
            background: linear-gradient(135deg, var(--chapman-blue) 0%, var(--blue-medium) 50%, var(--chapman-blue) 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container {
            max-width: 950px;
            margin: 0 auto;
            background: var(--white);
            border-radius: 16px;
            box-shadow: var(--shadow-strong);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, var(--chapman-blue) 0%, var(--blue-medium) 100%);
            color: var(--white);
            padding: 40px 30px;
            text-align: center;
            position: relative;
        }
        .header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--chapman-gold) 0%, var(--gold-light) 50%, var(--chapman-gold) 100%);
        }
        .institution { font-size: 0.95em; letter-spacing: 2px; text-transform: uppercase; opacity: 0.9; margin-bottom: 5px; }
        .college { font-size: 1.1em; color: var(--chapman-gold); margin-bottom: 20px; font-weight: 600; }
        h1 { font-size: 2.4em; font-weight: 700; margin-bottom: 12px; }
        .subtitle { font-size: 1.15em; font-style: italic; color: var(--gold-light); }
        .content { padding: 35px; }
        .hidden { display: none !important; }

        /* Intro Section */
        .intro-section {
            background: linear-gradient(135deg, var(--blue-light) 0%, #f8f9fc 100%);
            border-radius: 14px;
            padding: 30px;
            margin-bottom: 30px;
            border-left: 5px solid var(--chapman-blue);
        }
        .intro-section h2 { color: var(--chapman-blue); font-size: 1.4em; margin-bottom: 15px; }
        .intro-section p { color: var(--text-secondary); margin-bottom: 15px; }

        .styles-preview {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin: 25px 0;
        }
        .style-preview-card {
            padding: 20px 12px;
            border-radius: 12px;
            text-align: center;
            color: var(--white);
            font-weight: 600;
        }
        .style-preview-card.directing { background: linear-gradient(135deg, var(--directing), #D32F2F); }
        .style-preview-card.coaching { background: linear-gradient(135deg, var(--coaching), #FB8C00); }
        .style-preview-card.supporting { background: linear-gradient(135deg, var(--supporting), #43A047); }
        .style-preview-card.delegating { background: linear-gradient(135deg, var(--delegating), #1976D2); }
        .style-preview-card .icon { font-size: 2em; margin-bottom: 8px; }
        .style-preview-card .name { font-size: 0.9em; }
        .style-preview-card .code { font-size: 0.75em; opacity: 0.9; margin-top: 4px; }

        /* Situational Model Visual */
        .model-container {
            background: var(--white);
            border: 2px solid var(--chapman-gold);
            border-radius: 14px;
            padding: 25px;
            margin: 25px 0;
        }
        .model-container h3 { color: var(--chapman-blue); text-align: center; margin-bottom: 15px; }
        .model-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 10px;
            max-width: 500px;
            margin: 0 auto;
        }
        .model-cell {
            padding: 20px 15px;
            border-radius: 10px;
            text-align: center;
            color: var(--white);
        }
        .model-cell.s2 { background: var(--coaching); }
        .model-cell.s3 { background: var(--supporting); }
        .model-cell.s1 { background: var(--directing); }
        .model-cell.s4 { background: var(--delegating); }
        .model-cell .cell-title { font-weight: 700; font-size: 1.1em; }
        .model-cell .cell-desc { font-size: 0.8em; opacity: 0.95; margin-top: 5px; }
        .model-axes {
            display: flex;
            justify-content: space-between;
            max-width: 500px;
            margin: 15px auto 0;
            font-size: 0.85em;
            color: var(--text-secondary);
        }

        .assessment-meta {
            display: flex;
            gap: 25px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid rgba(0, 32, 91, 0.1);
            flex-wrap: wrap;
        }
        .meta-item { display: flex; align-items: center; gap: 8px; color: var(--text-secondary); }
        .meta-icon {
            width: 28px;
            height: 28px;
            background: var(--chapman-blue);
            color: var(--white);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85em;
        }

        /* Student Info */
        .student-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 30px;
        }
        .input-group { display: flex; flex-direction: column; }
        .input-group label { font-weight: 600; margin-bottom: 8px; color: var(--chapman-blue); }
        .input-group input {
            padding: 14px 16px;
            border: 2px solid #e1e5eb;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        .input-group input:focus {
            outline: none;
            border-color: var(--chapman-blue);
            box-shadow: 0 0 0 4px rgba(0, 32, 91, 0.08);
        }

        /* Instructions */
        .instructions-box {
            background: linear-gradient(135deg, #fffef8 0%, #fef9e7 100%);
            border: 2px solid var(--chapman-gold);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
        }
        .instructions-box h3 { color: var(--chapman-blue); margin-bottom: 15px; }
        .instructions-box p { color: var(--text-secondary); margin-bottom: 10px; }

        /* Progress */
        .progress-container { margin-bottom: 25px; }
        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9em;
            color: var(--text-secondary);
        }
        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e8ecf0;
            border-radius: 5px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--chapman-blue) 0%, var(--chapman-gold) 100%);
            width: 0%;
            transition: width 0.5s ease;
        }

        /* Question Container */
        .question-container {
            background: var(--white);
            border-radius: 16px;
            border: 2px solid #e8ecf0;
            overflow: hidden;
            margin-bottom: 25px;
            box-shadow: var(--shadow-medium);
        }
        .question-header {
            background: linear-gradient(135deg, var(--chapman-blue) 0%, var(--blue-medium) 100%);
            color: var(--white);
            padding: 22px 28px;
        }
        .question-number { font-size: 0.9em; opacity: 0.9; margin-bottom: 8px; }
        .question-text { font-size: 1.1em; font-weight: 600; }
        .question-content { padding: 28px; }

        .scenario-box {
            background: linear-gradient(135deg, var(--blue-light), #f0f4fa);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 22px;
            border-left: 4px solid var(--chapman-gold);
        }
        .scenario-box .scenario-label {
            font-size: 0.8em;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--chapman-blue);
            font-weight: 600;
            margin-bottom: 8px;
        }
        .scenario-box .scenario-text {
            color: var(--text-secondary);
            line-height: 1.7;
        }

        /* Options */
        .options { display: grid; gap: 12px; }
        .option {
            display: flex;
            align-items: flex-start;
            padding: 18px 22px;
            border-radius: 12px;
            border: 3px solid #e8ecf0;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #fafbfc;
        }
        .option:hover:not(.selected) {
            border-color: var(--chapman-blue);
            transform: translateX(6px);
            background: var(--blue-light);
        }
        .option.selected {
            border-color: var(--chapman-blue);
            background: linear-gradient(135deg, var(--chapman-blue), var(--blue-medium));
            color: var(--white);
            transform: translateX(6px);
        }
        .option input[type="radio"] { display: none; }
        .option-letter {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: rgba(0, 32, 91, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1em;
            margin-right: 15px;
            flex-shrink: 0;
        }
        .option.selected .option-letter {
            background: rgba(255, 255, 255, 0.25);
        }
        .option-text { flex: 1; font-size: 0.95em; line-height: 1.5; }

        /* Buttons */
        .controls { text-align: center; margin: 30px 0; }
        .btn {
            border: none;
            padding: 16px 40px;
            font-size: 1.05em;
            font-weight: 600;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 8px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        .btn-primary {
            background: linear-gradient(135deg, var(--chapman-blue) 0%, var(--blue-medium) 100%);
            color: var(--white);
            box-shadow: 0 4px 15px rgba(0, 32, 91, 0.3);
        }
        .btn-primary:hover:not(:disabled) { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(0, 32, 91, 0.4); }
        .btn-secondary {
            background: linear-gradient(135deg, var(--chapman-gold) 0%, #d4b000 100%);
            color: var(--chapman-blue);
        }
        .btn-secondary:hover { transform: translateY(-3px); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none !important; }
        .btn-outline {
            background: transparent;
            border: 2px solid var(--chapman-blue);
            color: var(--chapman-blue);
        }

        /* Results */
        .results { display: none; margin-top: 30px; }
        .results-header {
            background: linear-gradient(135deg, var(--chapman-blue) 0%, var(--blue-medium) 100%);
            color: var(--white);
            padding: 40px;
            text-align: center;
            border-radius: 16px 16px 0 0;
        }
        .results-header h2 { font-size: 1.8em; margin-bottom: 10px; }
        .results-header .student-name { font-size: 1.3em; color: var(--chapman-gold); margin-bottom: 8px; }
        .results-header .date { opacity: 0.9; }

        /* Score Cards */
        .score-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            padding: 30px;
            background: linear-gradient(135deg, #34495e, #2c3e50);
        }
        .score-card {
            background: rgba(255,255,255,0.1);
            padding: 22px 15px;
            border-radius: 14px;
            text-align: center;
            color: var(--white);
            transition: transform 0.3s ease;
        }
        .score-card:hover { transform: scale(1.03); }
        .score-card.primary { transform: scale(1.08); box-shadow: 0 8px 30px rgba(0,0,0,0.3); }
        .score-card.directing.primary { background: linear-gradient(135deg, var(--directing), #D32F2F); }
        .score-card.coaching.primary { background: linear-gradient(135deg, var(--coaching), #FB8C00); }
        .score-card.supporting.primary { background: linear-gradient(135deg, var(--supporting), #43A047); }
        .score-card.delegating.primary { background: linear-gradient(135deg, var(--delegating), #1976D2); }
        .score-card.secondary { border: 2px solid var(--chapman-gold); }
        .score-card .icon { font-size: 1.8em; margin-bottom: 8px; }
        .score-card h3 { font-size: 0.9em; margin-bottom: 6px; opacity: 0.95; }
        .score-card .score { font-size: 2em; font-weight: 700; }

        .results-body { background: var(--blue-light); padding: 35px; border-radius: 0 0 16px 16px; }

        /* Situational Grid Results */
        .situational-grid-container {
            background: var(--white);
            border-radius: 14px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-medium);
        }
        .situational-grid-container h4 { color: var(--chapman-blue); margin-bottom: 20px; text-align: center; }
        .sit-grid {
            display: grid;
            grid-template-columns: 30px 1fr 1fr;
            grid-template-rows: 1fr 1fr 30px;
            gap: 10px;
            max-width: 450px;
            margin: 0 auto;
        }
        .sit-ylabel {
            grid-column: 1;
            grid-row: 1 / 3;
            writing-mode: vertical-rl;
            transform: rotate(180deg);
            text-align: center;
            font-weight: 600;
            color: var(--chapman-blue);
            font-size: 0.8em;
        }
        .sit-xlabel {
            grid-column: 2 / 4;
            grid-row: 3;
            text-align: center;
            font-weight: 600;
            color: var(--chapman-blue);
            font-size: 0.8em;
        }
        .sit-cell {
            padding: 20px 15px;
            border-radius: 10px;
            text-align: center;
            color: var(--white);
            transition: all 0.3s ease;
        }
        .sit-cell .cell-icon { font-size: 1.5em; margin-bottom: 5px; }
        .sit-cell .cell-name { font-weight: 600; font-size: 0.9em; }
        .sit-cell .cell-score { font-size: 1.4em; font-weight: 700; margin-top: 5px; }
        .sit-cell.s2 { grid-column: 2; grid-row: 1; background: var(--coaching); }
        .sit-cell.s3 { grid-column: 3; grid-row: 1; background: var(--supporting); }
        .sit-cell.s1 { grid-column: 2; grid-row: 2; background: var(--directing); }
        .sit-cell.s4 { grid-column: 3; grid-row: 2; background: var(--delegating); }
        .sit-cell.highlight { box-shadow: 0 0 0 4px var(--chapman-gold), 0 8px 25px rgba(0,0,0,0.3); transform: scale(1.05); z-index: 2; }

        /* Type Cards */
        .type-card {
            background: var(--white);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: var(--shadow-medium);
            border-top: 5px solid var(--chapman-blue);
        }
        .type-card.directing { border-top-color: var(--directing); }
        .type-card.coaching { border-top-color: var(--coaching); }
        .type-card.supporting { border-top-color: var(--supporting); }
        .type-card.delegating { border-top-color: var(--delegating); }

        .type-header { display: flex; align-items: center; gap: 18px; margin-bottom: 18px; }
        .type-icon {
            width: 65px;
            height: 65px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            color: var(--white);
        }
        .type-icon.directing { background: var(--directing); }
        .type-icon.coaching { background: var(--coaching); }
        .type-icon.supporting { background: var(--supporting); }
        .type-icon.delegating { background: var(--delegating); }
        .type-info h3 { font-size: 1.4em; color: var(--chapman-blue); margin-bottom: 4px; }
        .type-info .type-subtitle { color: var(--chapman-gold); font-weight: 600; }
        .type-label {
            display: inline-block;
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
            color: var(--white);
        }
        .type-label.primary { background: var(--chapman-blue); }
        .type-label.secondary { background: var(--chapman-gold); color: var(--chapman-blue); }
        .type-description { color: var(--text-secondary); line-height: 1.8; }

        /* Behavior Tags */
        .behavior-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        .behavior-tag {
            padding: 8px 14px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 600;
        }
        .behavior-tag.directive { background: #FFEBEE; color: var(--directing); }
        .behavior-tag.supportive { background: #E8F5E9; color: var(--supporting); }

        /* Readiness Match */
        .readiness-section {
            background: var(--white);
            border-radius: 14px;
            padding: 28px;
            margin-bottom: 20px;
            border-left: 5px solid var(--chapman-gold);
            box-shadow: var(--shadow-subtle);
        }
        .readiness-section h4 { color: var(--chapman-blue); margin-bottom: 18px; }
        .readiness-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }
        .readiness-card {
            padding: 18px 12px;
            border-radius: 10px;
            text-align: center;
        }
        .readiness-card.r1 { background: #FFEBEE; border-top: 3px solid var(--directing); }
        .readiness-card.r2 { background: #FFF3E0; border-top: 3px solid var(--coaching); }
        .readiness-card.r3 { background: #E8F5E9; border-top: 3px solid var(--supporting); }
        .readiness-card.r4 { background: #E3F2FD; border-top: 3px solid var(--delegating); }
        .readiness-card .r-level { font-weight: 700; color: var(--text-primary); margin-bottom: 5px; }
        .readiness-card .r-desc { font-size: 0.8em; color: var(--text-secondary); margin-bottom: 8px; }
        .readiness-card .r-style { font-size: 0.85em; font-weight: 600; }

        /* When Grid */
        .when-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        .when-box {
            padding: 20px;
            border-radius: 12px;
        }
        .when-box.use { background: #E8F5E9; border-left: 4px solid var(--supporting); }
        .when-box.caution { background: #FFF3E0; border-left: 4px solid var(--coaching); }
        .when-box h5 { color: var(--text-primary); margin-bottom: 12px; font-size: 1em; }
        .when-box ul { list-style: none; padding: 0; margin: 0; }
        .when-box li {
            padding: 8px 0 8px 24px;
            position: relative;
            font-size: 0.95em;
            color: var(--text-secondary);
        }
        .when-box.use li::before { content: '‚úì'; position: absolute; left: 0; color: var(--supporting); font-weight: bold; }
        .when-box.caution li::before { content: '!'; position: absolute; left: 0; color: var(--coaching); font-weight: bold; }

        /* Result Sections */
        .result-section {
            background: var(--white);
            border-radius: 14px;
            padding: 28px;
            margin-bottom: 20px;
            border-left: 5px solid var(--chapman-blue);
            box-shadow: var(--shadow-subtle);
        }
        .result-section.gold-accent { border-left-color: var(--chapman-gold); }
        .result-section h4 { color: var(--chapman-blue); margin-bottom: 18px; }

        /* Flexibility Tips */
        .flex-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }
        .flex-card {
            padding: 18px;
            border-radius: 10px;
            border-left: 4px solid;
        }
        .flex-card.directing { background: #FFEBEE; border-left-color: var(--directing); }
        .flex-card.coaching { background: #FFF3E0; border-left-color: var(--coaching); }
        .flex-card.supporting { background: #E8F5E9; border-left-color: var(--supporting); }
        .flex-card.delegating { background: #E3F2FD; border-left-color: var(--delegating); }
        .flex-card h5 { color: var(--text-primary); margin-bottom: 8px; font-size: 0.95em; }
        .flex-card p { font-size: 0.9em; color: var(--text-secondary); margin: 0; }

        /* Reflection */
        .reflection-section {
            background: linear-gradient(135deg, var(--blue-light) 0%, #f0f4fa 100%);
            border-radius: 14px;
            padding: 30px;
            margin-top: 25px;
            border: 2px solid var(--chapman-blue);
        }
        .reflection-section h4 { color: var(--chapman-blue); margin-bottom: 20px; text-align: center; }
        .reflection-questions { counter-reset: reflection; }
        .reflection-question {
            padding: 18px 20px 18px 50px;
            position: relative;
            background: var(--white);
            border-radius: 10px;
            margin-bottom: 12px;
            color: var(--text-secondary);
        }
        .reflection-question::before {
            counter-increment: reflection;
            content: counter(reflection);
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            width: 26px;
            height: 26px;
            background: var(--chapman-blue);
            color: var(--white);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.85em;
            font-weight: 700;
        }

        .footer {
            text-align: center;
            padding: 25px;
            color: var(--text-secondary);
            font-size: 0.9em;
            border-top: 1px solid #e8ecf0;
            margin-top: 30px;
        }

        @media (max-width: 768px) {
            .styles-preview, .score-grid, .readiness-grid { grid-template-columns: repeat(2, 1fr); }
            .student-info, .when-grid, .flex-grid { grid-template-columns: 1fr; }
            h1 { font-size: 1.8em; }
            .type-header { flex-direction: column; text-align: center; }
            .model-grid, .sit-grid { max-width: 100%; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="institution">Chapman University</div>
            <div class="college">Argyros College of Business and Economics</div>
            <h1>Leadership Style Assessment</h1>
            <div class="subtitle">Based on Situational Leadership Theory</div>
        </div>

        <div class="content">
            <!-- Intro Section -->
            <div id="intro-section">
                <div class="intro-section">
                    <h2>üëî Discover Your Leadership Style</h2>
                    <p>Effective leadership isn't one-size-fits-all. The best leaders adapt their style based on the situation and the readiness level of their team members. This assessment identifies your natural leadership tendencies across four distinct styles.</p>
                    <p>Based on the Situational Leadership¬Æ model developed by Hersey and Blanchard, leadership style is determined by the balance between <strong>directive behavior</strong> (task focus) and <strong>supportive behavior</strong> (relationship focus).</p>

                    <div class="styles-preview">
                        <div class="style-preview-card directing">
                            <div class="icon">üìã</div>
                            <div class="name">Directing</div>
                            <div class="code">S1: High Task, Low Relationship</div>
                        </div>
                        <div class="style-preview-card coaching">
                            <div class="icon">üéØ</div>
                            <div class="name">Coaching</div>
                            <div class="code">S2: High Task, High Relationship</div>
                        </div>
                        <div class="style-preview-card supporting">
                            <div class="icon">ü§ù</div>
                            <div class="name">Supporting</div>
                            <div class="code">S3: Low Task, High Relationship</div>
                        </div>
                        <div class="style-preview-card delegating">
                            <div class="icon">üöÄ</div>
                            <div class="name">Delegating</div>
                            <div class="code">S4: Low Task, Low Relationship</div>
                        </div>
                    </div>

                    <div class="model-container">
                        <h3>üìä The Situational Leadership Model</h3>
                        <div class="model-grid">
                            <div class="model-cell s2">
                                <div class="cell-title">Coaching</div>
                                <div class="cell-desc">Explain decisions & provide opportunity for clarification</div>
                            </div>
                            <div class="model-cell s3">
                                <div class="cell-title">Supporting</div>
                                <div class="cell-desc">Share ideas & facilitate decision-making</div>
                            </div>
                            <div class="model-cell s1">
                                <div class="cell-title">Directing</div>
                                <div class="cell-desc">Provide specific instructions & closely supervise</div>
                            </div>
                            <div class="model-cell s4">
                                <div class="cell-title">Delegating</div>
                                <div class="cell-desc">Turn over responsibility for decisions & implementation</div>
                            </div>
                        </div>
                        <div class="model-axes">
                            <span>‚Üê Low Directive Behavior | High Directive Behavior ‚Üí</span>
                        </div>
                    </div>

                    <div class="assessment-meta">
                        <div class="meta-item"><div class="meta-icon">‚è±</div><span>15-20 minutes</span></div>
                        <div class="meta-item"><div class="meta-icon">üìù</div><span>20 scenario-based questions</span></div>
                        <div class="meta-item"><div class="meta-icon">üéØ</div><span>4 leadership styles assessed</span></div>
                    </div>
                </div>

                <div class="student-info">
                    <div class="input-group">
                        <label for="studentName">Your Full Name</label>
                        <input type="text" id="studentName" placeholder="Enter your full name">
                    </div>
                    <div class="input-group">
                        <label for="testDate">Assessment Date</label>
                        <input type="date" id="testDate">
                    </div>
                </div>

                <div class="instructions-box">
                    <h3>üìå How to Complete This Assessment</h3>
                    <p>You will be presented with 20 workplace scenarios involving team members at different performance levels. For each scenario, select the response that best describes how you would <strong>most likely</strong> handle the situation.</p>
                    <p>There are no right or wrong answers‚Äîeach style is effective in different situations. Answer based on what you would actually do, not what you think you should do.</p>
                </div>

                <div class="controls">
                    <button class="btn btn-primary" onclick="startAssessment()">Begin Assessment ‚Üí</button>
                </div>
            </div>

            <!-- Assessment Section -->
            <div id="assessment-section" class="hidden">
                <div class="progress-container">
                    <div class="progress-label">
                        <span>Assessment Progress</span>
                        <span id="progressText">Question 1 of 20</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                </div>

                <div id="questions-container"></div>

                <div class="controls">
                    <button class="btn btn-outline" id="prevBtn" onclick="prevQuestion()" disabled>‚Üê Previous</button>
                    <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>Next Question ‚Üí</button>
                </div>
            </div>

            <!-- Results Section -->
            <div id="results" class="results"></div>

            <div id="downloadSection" class="hidden controls">
                <button class="btn btn-secondary" onclick="generatePDF()">üìÑ Download PDF Report</button>
                <button class="btn btn-outline" onclick="restartAssessment()">Take Assessment Again</button>
            </div>
        </div>

        <div class="footer">
            <p>Leadership Style Assessment ‚Ä¢ Based on Hersey & Blanchard's Situational Leadership</p>
            <p>Chapman University ‚Ä¢ Argyros College of Business and Economics</p>
            <p style="margin-top: 8px; font-size: 0.85em;">¬© 2024 Professor Chip Monaco ‚Ä¢ MGMT 316</p>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        // Leadership scenarios with 4 response options mapping to S1-S4
        const questions = [
            {
                id: 1,
                scenario: "A new employee has just joined your team. They're enthusiastic but have no experience with the specific tasks required. They need to complete their first project.",
                options: [
                    { letter: "A", text: "Provide detailed instructions, set specific deadlines, and check their work frequently.", style: "directing" },
                    { letter: "B", text: "Explain the project goals, show them how to do it, answer their questions, and encourage them throughout.", style: "coaching" },
                    { letter: "C", text: "Share some general guidance and let them know you're available if they have questions.", style: "supporting" },
                    { letter: "D", text: "Give them the project and trust them to figure out the best approach on their own.", style: "delegating" }
                ]
            },
            {
                id: 2,
                scenario: "An experienced team member who usually performs well has been missing deadlines recently. When you ask, they seem frustrated but won't elaborate.",
                options: [
                    { letter: "A", text: "Set clearer deadlines and monitor their progress more closely until performance improves.", style: "directing" },
                    { letter: "B", text: "Have a detailed conversation about what's happening, reaffirm expectations, and work together on solutions.", style: "coaching" },
                    { letter: "C", text: "Express your concern, ask how you can help, and listen to understand what support they need.", style: "supporting" },
                    { letter: "D", text: "Give them space to work through it‚Äîthey've earned trust and will likely self-correct.", style: "delegating" }
                ]
            },
            {
                id: 3,
                scenario: "Your team needs to adopt a new software system. Most team members are resistant to change and skeptical about the benefits.",
                options: [
                    { letter: "A", text: "Mandate the change, provide training schedules, and set clear expectations for adoption timelines.", style: "directing" },
                    { letter: "B", text: "Explain why the change is necessary, demonstrate the benefits, train them thoroughly, and address concerns.", style: "coaching" },
                    { letter: "C", text: "Involve the team in the transition planning, ask for their input, and support their learning process.", style: "supporting" },
                    { letter: "D", text: "Announce the change and let them figure out how to integrate it into their workflow.", style: "delegating" }
                ]
            },
            {
                id: 4,
                scenario: "A highly skilled team member comes to you with a complex problem they've never handled before. They seem confident but uncertain about the approach.",
                options: [
                    { letter: "A", text: "Take over the problem and show them exactly how to solve it step by step.", style: "directing" },
                    { letter: "B", text: "Work through the problem together, explaining your reasoning while valuing their input.", style: "coaching" },
                    { letter: "C", text: "Ask questions to help them think through it, offer suggestions, and let them decide the approach.", style: "supporting" },
                    { letter: "D", text: "Express confidence in their abilities and let them tackle it independently.", style: "delegating" }
                ]
            },
            {
                id: 5,
                scenario: "You've just been promoted to manage your former peers. The team is capable but seems uncertain about how to relate to you now.",
                options: [
                    { letter: "A", text: "Establish clear new boundaries, define expectations, and set up regular check-ins to monitor work.", style: "directing" },
                    { letter: "B", text: "Meet with each person to discuss the transition, clarify your new role, and maintain open communication.", style: "coaching" },
                    { letter: "C", text: "Acknowledge the awkwardness, ask for their patience, and gradually establish your management approach.", style: "supporting" },
                    { letter: "D", text: "Continue treating them as capable professionals and only step in when specifically needed.", style: "delegating" }
                ]
            },
            {
                id: 6,
                scenario: "A team member has the skills to do excellent work but frequently cuts corners and delivers minimum acceptable quality.",
                options: [
                    { letter: "A", text: "Set specific quality standards, review their work more frequently, and address each instance of subpar work.", style: "directing" },
                    { letter: "B", text: "Discuss the importance of quality, connect it to team and career goals, and establish agreed-upon standards together.", style: "coaching" },
                    { letter: "C", text: "Ask what's causing the lack of engagement and explore what would motivate them to give their best.", style: "supporting" },
                    { letter: "D", text: "Accept that their current output meets requirements and focus your attention on other priorities.", style: "delegating" }
                ]
            },
            {
                id: 7,
                scenario: "Your team has been given a high-visibility project with a tight deadline. Team members have varying levels of experience with this type of work.",
                options: [
                    { letter: "A", text: "Create a detailed project plan, assign specific tasks based on abilities, and closely track progress.", style: "directing" },
                    { letter: "B", text: "Outline the plan, explain why tasks are assigned as they are, and hold regular check-ins to provide guidance.", style: "coaching" },
                    { letter: "C", text: "Share the goals, ask for the team's input on approach, and offer support where requested.", style: "supporting" },
                    { letter: "D", text: "Communicate the deadline and trust the team to organize themselves and deliver.", style: "delegating" }
                ]
            },
            {
                id: 8,
                scenario: "An employee asks for more challenging work. They've mastered their current responsibilities and seem ready to grow.",
                options: [
                    { letter: "A", text: "Assign them a stretch project with clear instructions on exactly how to approach it.", style: "directing" },
                    { letter: "B", text: "Give them a new challenge, explain your expectations, and schedule regular coaching sessions.", style: "coaching" },
                    { letter: "C", text: "Discuss what interests them, co-create a development plan, and offer to support their growth.", style: "supporting" },
                    { letter: "D", text: "Give them ownership of a significant initiative and let them run with it.", style: "delegating" }
                ]
            },
            {
                id: 9,
                scenario: "Two team members are having an interpersonal conflict that's affecting team morale and collaboration.",
                options: [
                    { letter: "A", text: "Meet with both, establish ground rules for professional behavior, and monitor their interactions.", style: "directing" },
                    { letter: "B", text: "Facilitate a conversation between them, help them understand each other's perspectives, and guide them to resolution.", style: "coaching" },
                    { letter: "C", text: "Talk to each person separately, acknowledge the difficulty, and ask how you can support them in resolving it.", style: "supporting" },
                    { letter: "D", text: "Trust them to work it out as adults and only intervene if it continues to escalate.", style: "delegating" }
                ]
            },
            {
                id: 10,
                scenario: "A remote team member is productive but rarely participates in team discussions or collaboration. Their work is good but isolated.",
                options: [
                    { letter: "A", text: "Require attendance and participation in specific meetings and collaborative activities.", style: "directing" },
                    { letter: "B", text: "Explain the importance of collaboration, create structured opportunities for involvement, and encourage their participation.", style: "coaching" },
                    { letter: "C", text: "Ask about their experience on the team, understand their preferences, and find ways to include them that feel comfortable.", style: "supporting" },
                    { letter: "D", text: "Respect their working style‚Äîif the work is good, don't force them to change.", style: "delegating" }
                ]
            },
            {
                id: 11,
                scenario: "Your organization is going through a restructuring. Your team is anxious about job security and changes to their roles.",
                options: [
                    { letter: "A", text: "Provide clear information about what you know, set expectations for the transition, and maintain normal workflows.", style: "directing" },
                    { letter: "B", text: "Share information transparently, explain the reasoning behind changes, and address questions and concerns openly.", style: "coaching" },
                    { letter: "C", text: "Create space for the team to express concerns, listen empathetically, and offer reassurance and support.", style: "supporting" },
                    { letter: "D", text: "Trust the team to handle uncertainty professionally and focus on business as usual.", style: "delegating" }
                ]
            },
            {
                id: 12,
                scenario: "A team member consistently goes above and beyond, taking initiative on projects without being asked. They're a high performer who rarely needs guidance.",
                options: [
                    { letter: "A", text: "Ensure they're following proper procedures and not taking on too much without approval.", style: "directing" },
                    { letter: "B", text: "Acknowledge their initiative, discuss their career goals, and help channel their energy strategically.", style: "coaching" },
                    { letter: "C", text: "Express appreciation, ask what support they need, and check in on their workload and satisfaction.", style: "supporting" },
                    { letter: "D", text: "Give them autonomy and stay out of their way‚Äîthey clearly know what they're doing.", style: "delegating" }
                ]
            },
            {
                id: 13,
                scenario: "You need to deliver critical feedback to an employee whose performance has been declining. They're sensitive to criticism.",
                options: [
                    { letter: "A", text: "Document specific instances, present the facts clearly, and outline exactly what needs to change.", style: "directing" },
                    { letter: "B", text: "Have a balanced conversation covering both strengths and areas for improvement, and create a development plan together.", style: "coaching" },
                    { letter: "C", text: "Approach sensitively, express your observations as concerns, and ask for their perspective on what's happening.", style: "supporting" },
                    { letter: "D", text: "Provide the feedback briefly and trust them to make the necessary adjustments.", style: "delegating" }
                ]
            },
            {
                id: 14,
                scenario: "Your team needs to present a proposal to senior leadership next week. Some members are experienced presenters, others are terrified of public speaking.",
                options: [
                    { letter: "A", text: "Assign presentation sections based on comfort levels, provide scripts, and run mandatory rehearsals.", style: "directing" },
                    { letter: "B", text: "Assess each person's readiness, provide targeted coaching, and build confidence through practice and feedback.", style: "coaching" },
                    { letter: "C", text: "Ask how each person wants to contribute, offer support to those who are nervous, and build on individual strengths.", style: "supporting" },
                    { letter: "D", text: "Let the team decide how to divide the presentation and prepare on their own.", style: "delegating" }
                ]
            },
            {
                id: 15,
                scenario: "A new process you implemented isn't working as planned. The team is frustrated and some are reverting to old methods.",
                options: [
                    { letter: "A", text: "Enforce the new process, address non-compliance directly, and provide additional training where needed.", style: "directing" },
                    { letter: "B", text: "Gather feedback, acknowledge the challenges, explain the reasoning again, and adjust the process based on input.", style: "coaching" },
                    { letter: "C", text: "Listen to the team's frustrations, involve them in troubleshooting, and collaboratively modify the approach.", style: "supporting" },
                    { letter: "D", text: "Let the team adapt the process as they see fit‚Äîthey know their work best.", style: "delegating" }
                ]
            },
            {
                id: 16,
                scenario: "An employee has been with the company for years and knows their job extremely well, but technology changes have made some of their methods outdated.",
                options: [
                    { letter: "A", text: "Require them to complete training and implement new methods by a specific deadline.", style: "directing" },
                    { letter: "B", text: "Acknowledge their expertise, explain why updates are needed, and support them through the learning curve.", style: "coaching" },
                    { letter: "C", text: "Ask for their perspective on the changes, respect their experience, and involve them in determining how to adapt.", style: "supporting" },
                    { letter: "D", text: "Trust them to update their methods at their own pace since they understand the work.", style: "delegating" }
                ]
            },
            {
                id: 17,
                scenario: "You're onboarding three new team members simultaneously. Each has different backgrounds and learning speeds.",
                options: [
                    { letter: "A", text: "Create a standardized training program with clear milestones and check-ins for all three.", style: "directing" },
                    { letter: "B", text: "Assess each person's starting point, customize training intensity, and provide individualized guidance.", style: "coaching" },
                    { letter: "C", text: "Pair each new hire with a buddy, make yourself available for questions, and let them learn at their pace.", style: "supporting" },
                    { letter: "D", text: "Provide resources and let them self-direct their onboarding based on their learning style.", style: "delegating" }
                ]
            },
            {
                id: 18,
                scenario: "A team member wants to propose a new idea to improve efficiency. They're competent but have never led an initiative before.",
                options: [
                    { letter: "A", text: "Ask them to document the idea in a specific format you provide, then review and decide whether to proceed.", style: "directing" },
                    { letter: "B", text: "Encourage the idea, help them develop the proposal, and guide them through the process of presenting it.", style: "coaching" },
                    { letter: "C", text: "Express enthusiasm, ask how you can support them, and let them take the lead on moving it forward.", style: "supporting" },
                    { letter: "D", text: "Tell them to go ahead and implement it if they think it will work.", style: "delegating" }
                ]
            },
            {
                id: 19,
                scenario: "Your team has achieved their quarterly goals early. They're motivated and working well together.",
                options: [
                    { letter: "A", text: "Set new stretch goals immediately and assign the next round of priorities.", style: "directing" },
                    { letter: "B", text: "Celebrate the success, discuss what worked well, and collaboratively set the next objectives.", style: "coaching" },
                    { letter: "C", text: "Recognize their accomplishment, ask what they'd like to focus on next, and support their preferences.", style: "supporting" },
                    { letter: "D", text: "Congratulate them and let them decide how to use their extra time productively.", style: "delegating" }
                ]
            },
            {
                id: 20,
                scenario: "An employee made a significant mistake that cost the team time and resources. They're embarrassed and clearly know they messed up.",
                options: [
                    { letter: "A", text: "Review what went wrong, establish procedures to prevent recurrence, and monitor their work more closely.", style: "directing" },
                    { letter: "B", text: "Discuss the mistake constructively, help them understand what happened, and develop their skills in that area.", style: "coaching" },
                    { letter: "C", text: "Acknowledge that mistakes happen, ask how they're feeling, and support them in moving forward confidently.", style: "supporting" },
                    { letter: "D", text: "Trust that they've learned from it and don't belabor the point‚Äîeveryone makes mistakes.", style: "delegating" }
                ]
            }
        ];

        // Style data
        const styleData = {
            directing: {
                name: "Directing",
                code: "S1",
                subtitle: "High Task, Low Relationship",
                icon: "üìã",
                color: "#C62828",
                directive: "High",
                supportive: "Low",
                description: "The Directing style involves providing specific instructions and closely supervising performance. You tell people what to do, how to do it, when to do it, and then closely monitor their performance. This style is characterized by one-way communication.",
                profileSummary: "You lead by providing clear direction and structure. You're most effective with new team members or in situations requiring decisive action and close oversight.",
                leadershipApproach: "You set clear expectations, make decisions, communicate them directly, and monitor execution closely. You provide the structure that helps inexperienced team members succeed.",
                situationalFit: "Best matched with enthusiastic beginners (R1) who need clear guidance, or crisis situations requiring decisive action.",
                bestFor: "Employees who are new to a task or role, enthusiastic beginners who lack competence but have high commitment, situations requiring immediate action or crisis management.",
                behaviors: [
                    "Provides clear, specific instructions",
                    "Makes decisions and announces them",
                    "Closely supervises performance",
                    "Sets specific timelines and milestones",
                    "Defines roles and responsibilities clearly"
                ],
                whenToUse: [
                    "Employee is new and inexperienced at the task",
                    "Time pressure requires quick, decisive action",
                    "Employee lacks confidence and needs structure",
                    "High-stakes situations where mistakes are costly"
                ],
                caution: [
                    "Can feel micromanaging to experienced employees",
                    "May stifle creativity and initiative",
                    "Doesn't develop employee decision-making skills",
                    "Can create dependency on the leader"
                ],
                readinessMatch: "R1: Unable and Insecure OR Unable but Confident (Enthusiastic Beginner)",
                decisionStyle: "Centralized and decisive. You prefer to make decisions yourself based on your assessment of the situation, then communicate them clearly to your team with specific instructions for execution.",
                communicationStyle: "Direct, task-focused, and one-way. You provide clear instructions, set expectations explicitly, and focus communication on what needs to be done, by whom, and by when.",
                motivatedBy: "Order, clarity, achieving concrete results, meeting deadlines, and seeing plans executed precisely as designed.",
                stressResponse: "Under pressure, you may become overly controlling, micromanage details that could be delegated, dismiss input from others, or become impatient with questions or requests for explanation.",
                blindSpots: "May not recognize when team members have developed beyond needing close direction. Can miss the demotivating effect of over-supervision on capable employees. May undervalue relationship-building.",
                worksWith: {
                    coaching: "Coaching leaders can help you develop patience for the teaching moments that build long-term capability",
                    supporting: "Supporting leaders model how to build confidence through encouragement rather than just instruction",
                    delegating: "Delegating leaders can show you how to let go and trust proven performers to deliver"
                },
                swotStrength: "Provides clear structure and decisive direction when situations require it",
                swotWeakness: "May over-direct experienced employees or stifle initiative and development",
                swotOpportunity: "Develop coaching and supporting skills to match style to follower readiness",
                swotThreat: "Risk of being perceived as micromanaging; may not develop team autonomy"
            },
            coaching: {
                name: "Coaching",
                code: "S2",
                subtitle: "High Task, High Relationship",
                icon: "üéØ",
                color: "#F57C00",
                directive: "High",
                supportive: "High",
                description: "The Coaching style involves explaining decisions and providing opportunity for clarification. You still provide direction, but also seek input, explain the 'why,' and support the person's development. This is a teaching-focused style with two-way communication.",
                profileSummary: "You lead by combining direction with support and explanation. You invest in developing your team's capabilities while still providing needed guidance.",
                leadershipApproach: "You explain decisions, seek input, encourage questions, and provide both task direction and emotional support. You balance teaching with letting people try.",
                situationalFit: "Best matched with disillusioned learners (R2) who have some ability but are frustrated or losing motivation.",
                bestFor: "Employees who have some competence but lack commitment, disillusioned learners who've hit obstacles, people transitioning to new responsibilities.",
                behaviors: [
                    "Explains decisions and rationale",
                    "Solicits suggestions while maintaining direction",
                    "Provides both instruction and encouragement",
                    "Praises progress and builds confidence",
                    "Develops skills through guided practice"
                ],
                whenToUse: [
                    "Employee has some ability but needs skill development",
                    "Employee is losing motivation or becoming frustrated",
                    "Person is transitioning to increased responsibility",
                    "Teaching moments require both guidance and support"
                ],
                caution: [
                    "Most time-intensive leadership style",
                    "Can feel overwhelming if overused",
                    "May slow down experienced team members",
                    "Requires strong communication skills"
                ],
                readinessMatch: "R2: Unable but Confident OR Able but Insecure (Disillusioned Learner)",
                decisionStyle: "Collaborative but guided. You make decisions but take time to explain your reasoning, solicit input, and help team members understand the 'why' behind directions.",
                communicationStyle: "Two-way and developmental. You balance giving direction with asking questions, explaining rationale, and encouraging dialogue. You teach while you lead.",
                motivatedBy: "Developing others, seeing people grow, building capability, solving problems together, and creating 'aha moments' for your team.",
                stressResponse: "Under pressure, you may try to over-explain, struggle to make quick decisions without buy-in, or invest too much time in development when action is urgently needed.",
                blindSpots: "May not recognize when someone needs direction without explanation, or when they're ready to work independently. Can under-estimate the time cost of your coaching investment.",
                worksWith: {
                    directing: "Directing leaders can show you when decisive action trumps developmental conversation",
                    supporting: "Supporting leaders model how to step back once capability is built",
                    delegating: "Delegating leaders demonstrate the end-state of successful development"
                },
                swotStrength: "Develops people while providing needed direction; builds capability and confidence",
                swotWeakness: "Time-intensive; may over-invest in situations not requiring development focus",
                swotOpportunity: "Master the art of knowing when to coach vs. support or delegate",
                swotThreat: "Risk of burnout from over-investment; may slow team velocity"
            },
            supporting: {
                name: "Supporting",
                code: "S3",
                subtitle: "Low Task, High Relationship",
                icon: "ü§ù",
                color: "#2E7D32",
                directive: "Low",
                supportive: "High",
                description: "The Supporting style involves sharing ideas and facilitating decision-making. You listen, provide support and encouragement, and facilitate problem-solving. The employee takes more ownership while you provide the relationship support they need.",
                profileSummary: "You lead by empowering and encouraging. You provide emotional support and resources while letting capable team members take ownership of decisions.",
                leadershipApproach: "You listen actively, facilitate rather than direct, provide encouragement, and help remove obstacles. You trust capability and focus on confidence-building.",
                situationalFit: "Best matched with capable but cautious performers (R3) who have skills but need encouragement to use them independently.",
                bestFor: "Employees who have competence but lack confidence, capable but cautious performers, people who need encouragement more than instruction.",
                behaviors: [
                    "Listens actively and provides encouragement",
                    "Facilitates problem-solving and decision-making",
                    "Shares responsibility for decisions",
                    "Provides recognition and emotional support",
                    "Removes obstacles and provides resources"
                ],
                whenToUse: [
                    "Employee is skilled but lacks confidence",
                    "Person needs encouragement, not instruction",
                    "Employee is capable but hesitant to act independently",
                    "Relationship and trust-building are priorities"
                ],
                caution: [
                    "May not provide enough structure for some tasks",
                    "Can enable avoidance of difficult decisions",
                    "Might be seen as indecisive by some",
                    "Requires time investment in relationships"
                ],
                readinessMatch: "R3: Able but Insecure OR Able but Unwilling (Capable but Cautious Performer)",
                decisionStyle: "Facilitative and shared. You prefer to let capable team members make decisions while you provide encouragement, remove obstacles, and offer guidance only when asked.",
                communicationStyle: "Warm, encouraging, and listener-focused. You ask questions, validate feelings, celebrate progress, and focus on building confidence through positive reinforcement.",
                motivatedBy: "Relationships, team harmony, seeing others gain confidence, creating psychologically safe environments, and being a trusted resource.",
                stressResponse: "Under pressure, you may avoid making necessary decisions, struggle to provide critical feedback, or prioritize maintaining relationships over achieving results.",
                blindSpots: "May not recognize when team members need more direction than encouragement. Can enable avoidance by being too accommodating. May delay difficult conversations.",
                worksWith: {
                    directing: "Directing leaders can show you when structure and clear direction are what someone actually needs",
                    coaching: "Coaching leaders model how to combine support with developmental guidance",
                    delegating: "Delegating leaders demonstrate how to support without hovering"
                },
                swotStrength: "Builds confidence and autonomy in capable team members; strong relationships",
                swotWeakness: "May under-direct when structure is needed; can enable avoidance",
                swotOpportunity: "Develop ability to shift to directing/coaching when situations require",
                swotThreat: "Risk of being perceived as too hands-off or indecisive"
            },
            delegating: {
                name: "Delegating",
                code: "S4",
                subtitle: "Low Task, Low Relationship",
                icon: "üöÄ",
                color: "#1565C0",
                directive: "Low",
                supportive: "Low",
                description: "The Delegating style involves turning over responsibility for decisions and implementation. You provide minimal direction and support because the employee is both competent and confident. You trust them to perform independently.",
                profileSummary: "You lead by empowering autonomy. You trust proven performers to work independently and provide them the space to excel without interference.",
                leadershipApproach: "You empower decision-making, provide autonomy, stay available but not hovering, and trust team members to deliver. You monitor outcomes, not activities.",
                situationalFit: "Best matched with self-reliant achievers (R4) who are both competent and confident in the task.",
                bestFor: "Employees who are both competent and committed, self-reliant achievers who can work independently, proven performers on familiar tasks.",
                behaviors: [
                    "Empowers decision-making authority",
                    "Provides autonomy and independence",
                    "Monitors progress without interfering",
                    "Available but not hovering",
                    "Trusts employee judgment"
                ],
                whenToUse: [
                    "Employee is highly skilled and motivated",
                    "Person has proven track record of success",
                    "Task is within their established competence",
                    "You want to develop their leadership capabilities"
                ],
                caution: [
                    "Can feel like abandonment to struggling employees",
                    "May miss problems until they become serious",
                    "Assumes competence that may not exist",
                    "Can seem disengaged or uncaring"
                ],
                readinessMatch: "R4: Able and Confident (Self-Reliant Achiever)",
                decisionStyle: "Empowering and hands-off. You delegate decision authority to proven performers and trust their judgment. You focus on outcomes rather than methods.",
                communicationStyle: "Minimal and outcome-focused. You check in periodically on results, remain available as a resource, but avoid unnecessary oversight or direction.",
                motivatedBy: "Efficiency, leveraging talent, seeing self-sufficient teams, freeing your bandwidth for strategic work, and developing future leaders.",
                stressResponse: "Under pressure, you may become too distant, miss early warning signs of problems, or fail to provide support when a normally independent person hits an unexpected obstacle.",
                blindSpots: "May assume competence that doesn't exist on new tasks. Can miss when high performers need recognition or connection. May be perceived as disengaged or uncaring.",
                worksWith: {
                    directing: "Directing leaders can show you when a situation calls for hands-on involvement",
                    coaching: "Coaching leaders model how to stay connected while empowering autonomy",
                    supporting: "Supporting leaders demonstrate the relationship maintenance high performers still need"
                },
                swotStrength: "Maximizes autonomy for high performers; efficient use of leadership bandwidth",
                swotWeakness: "May under-support when team members need help; can miss early warning signs",
                swotOpportunity: "Develop sensitivity to when delegation isn't working and intervention is needed",
                swotThreat: "Risk of being perceived as disengaged or uncaring; may miss developing problems"
            }
        };

        let currentQuestion = 0;
        let responses = {};
        let studentName = '';
        let surveyDate = '';

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('testDate').value = new Date().toISOString().split('T')[0];
        });

        function startAssessment() {
            studentName = document.getElementById('studentName').value.trim();
            surveyDate = document.getElementById('testDate').value;
            if (!studentName) { alert('Please enter your name.'); return; }
            if (!surveyDate) { alert('Please select a date.'); return; }
            document.getElementById('intro-section').classList.add('hidden');
            document.getElementById('assessment-section').classList.remove('hidden');
            renderQuestion();
        }

        function renderQuestion() {
            const q = questions[currentQuestion];
            const container = document.getElementById('questions-container');
            const selectedAnswer = responses[q.id];

            container.innerHTML = `
                <div class="question-container">
                    <div class="question-header">
                        <div class="question-number">Scenario ${currentQuestion + 1} of ${questions.length}</div>
                        <div class="question-text">How would you handle this situation?</div>
                    </div>
                    <div class="question-content">
                        <div class="scenario-box">
                            <div class="scenario-label">üìã Situation</div>
                            <div class="scenario-text">${q.scenario}</div>
                        </div>
                        <div class="options">
                            ${q.options.map(opt => `
                                <label class="option ${selectedAnswer === opt.letter ? 'selected' : ''}" onclick="selectOption(${q.id}, '${opt.letter}')">
                                    <input type="radio" name="q${q.id}" value="${opt.letter}" ${selectedAnswer === opt.letter ? 'checked' : ''}>
                                    <div class="option-letter">${opt.letter}</div>
                                    <div class="option-text">${opt.text}</div>
                                </label>
                            `).join('')}
                        </div>
                    </div>
                </div>
            `;
            updateProgress();
            updateButtons();
        }

        function selectOption(questionId, answer) {
            responses[questionId] = answer;
            renderQuestion();
        }

        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `Question ${currentQuestion + 1} of ${questions.length}`;
        }

        function updateButtons() {
            const q = questions[currentQuestion];
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            document.getElementById('nextBtn').disabled = !responses[q.id];
            document.getElementById('nextBtn').textContent = currentQuestion === questions.length - 1 ? 'View Results ‚Üí' : 'Next Question ‚Üí';
        }

        function prevQuestion() {
            if (currentQuestion > 0) { currentQuestion--; renderQuestion(); }
        }

        function nextQuestion() {
            const q = questions[currentQuestion];
            if (!responses[q.id]) return;
            if (currentQuestion < questions.length - 1) { currentQuestion++; renderQuestion(); }
            else { calculateResults(); }
        }

        function calculateResults() {
            const scores = {
                directing: 0,
                coaching: 0,
                supporting: 0,
                delegating: 0
            };

            questions.forEach(q => {
                const answer = responses[q.id];
                if (answer) {
                    const option = q.options.find(o => o.letter === answer);
                    if (option) {
                        scores[option.style]++;
                    }
                }
            });

            displayResults(scores);
        }

        function displayResults(scores) {
            const sortedStyles = Object.entries(scores).sort((a, b) => b[1] - a[1]);
            const primaryStyle = sortedStyles[0][0];
            const secondaryStyle = sortedStyles[1][0];
            const primary = styleData[primaryStyle];
            const secondary = styleData[secondaryStyle];
            
            // Calculate style clarity and orientation
            const totalScore = scores.directing + scores.coaching + scores.supporting + scores.delegating;
            const primaryPct = Math.round((sortedStyles[0][1] / totalScore) * 100);
            const styleClarity = primaryPct >= 40 ? 'Strong' : primaryPct >= 30 ? 'Moderate' : 'Balanced';
            
            // Task vs Relationship orientation
            const taskScore = scores.directing + scores.coaching;
            const relationshipScore = scores.supporting + scores.delegating;
            const directiveOrientation = taskScore > relationshipScore ? 'Task-Focused' : 'Relationship-Focused';
            
            // Flexibility index (how evenly distributed scores are)
            const flexibilityIndex = 20 - (sortedStyles[0][1] - sortedStyles[3][1]);
            const flexibilityLevel = flexibilityIndex >= 15 ? 'High' : flexibilityIndex >= 10 ? 'Moderate' : 'Low';
            
            // Generate tracker code with human-readable explanation
            const styleAbbrev = { directing: 'S1', coaching: 'S2', supporting: 'S3', delegating: 'S4' };
            const styleNames = { directing: 'Directing', coaching: 'Coaching', supporting: 'Supporting', delegating: 'Delegating' };
            const trackerCode = `LSA-${styleAbbrev[primaryStyle]}${styleAbbrev[secondaryStyle]}-${styleClarity.charAt(0)}`;
            const codeExplanation = `Leadership Style: ${styleNames[primaryStyle]} (primary) + ${styleNames[secondaryStyle]} (secondary) | ${styleClarity}`;

            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML = `
                <div class="results-header">
                    <h2>üëî Your Leadership Style Profile</h2>
                    <div class="student-name">${studentName}</div>
                    <div class="date">Completed: ${new Date(surveyDate).toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</div>
                </div>

                <div class="score-grid">
                    <div class="score-card directing ${primaryStyle === 'directing' ? 'primary' : secondaryStyle === 'directing' ? 'secondary' : ''}">
                        <div class="icon">üìã</div>
                        <h3>Directing</h3>
                        <div class="score">${scores.directing}</div>
                    </div>
                    <div class="score-card coaching ${primaryStyle === 'coaching' ? 'primary' : secondaryStyle === 'coaching' ? 'secondary' : ''}">
                        <div class="icon">üéØ</div>
                        <h3>Coaching</h3>
                        <div class="score">${scores.coaching}</div>
                    </div>
                    <div class="score-card supporting ${primaryStyle === 'supporting' ? 'primary' : secondaryStyle === 'supporting' ? 'secondary' : ''}">
                        <div class="icon">ü§ù</div>
                        <h3>Supporting</h3>
                        <div class="score">${scores.supporting}</div>
                    </div>
                    <div class="score-card delegating ${primaryStyle === 'delegating' ? 'primary' : secondaryStyle === 'delegating' ? 'secondary' : ''}">
                        <div class="icon">üöÄ</div>
                        <h3>Delegating</h3>
                        <div class="score">${scores.delegating}</div>
                    </div>
                </div>
                
                <!-- TRACKER SUMMARY SECTION -->
                <div style="background: linear-gradient(135deg, #1a3a7a 0%, #00205B 100%); color: white; padding: 25px; border-radius: 14px; margin: 20px 0;">
                    <h3 style="color: #C4A000; margin-bottom: 15px; font-size: 1.3em;">üìã Assessment Tracker Summary</h3>
                    <p style="font-size: 0.9em; opacity: 0.9; margin-bottom: 15px;">Copy this information into your Assessment Tracker at the end of the semester.</p>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 10px; margin-bottom: 15px;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div>
                                <div style="font-size: 0.8em; opacity: 0.8; text-transform: uppercase; letter-spacing: 1px;">Primary Style</div>
                                <div style="font-size: 1.4em; font-weight: 700; color: #F5E6A3;">${primary.name} (${primary.code})</div>
                            </div>
                            <div>
                                <div style="font-size: 0.8em; opacity: 0.8; text-transform: uppercase; letter-spacing: 1px;">Secondary Style</div>
                                <div style="font-size: 1.4em; font-weight: 700; color: #F5E6A3;">${secondary.name} (${secondary.code})</div>
                            </div>
                            <div>
                                <div style="font-size: 0.8em; opacity: 0.8; text-transform: uppercase; letter-spacing: 1px;">Style Clarity</div>
                                <div style="font-size: 1.2em; font-weight: 600;">${styleClarity} (${primaryPct}%)</div>
                            </div>
                            <div>
                                <div style="font-size: 0.8em; opacity: 0.8; text-transform: uppercase; letter-spacing: 1px;">Leadership Orientation</div>
                                <div style="font-size: 1.2em; font-weight: 600;">${directiveOrientation}</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div>
                                <div style="font-size: 0.8em; opacity: 0.8; text-transform: uppercase; letter-spacing: 1px;">Flexibility Level</div>
                                <div style="font-size: 1.1em; font-weight: 600;">${flexibilityLevel} (ability to adapt styles)</div>
                            </div>
                            <div>
                                <div style="font-size: 0.8em; opacity: 0.8; text-transform: uppercase; letter-spacing: 1px;">Best Match</div>
                                <div style="font-size: 0.95em;">${primary.readinessMatch}</div>
                            </div>
                        </div>
                    </div>

                    <div style="background: rgba(196, 160, 0, 0.2); padding: 15px; border-radius: 8px; border-left: 4px solid #C4A000;">
                        <div style="font-size: 0.8em; opacity: 0.8; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px;">Key Characteristics for SWOT Analysis</div>
                        <div style="font-size: 0.95em; line-height: 1.6;">
                            <strong>Profile:</strong> ${primary.profileSummary}<br>
                            <strong>Approach:</strong> ${primary.leadershipApproach}<br>
                            <strong>Situational Fit:</strong> ${primary.situationalFit}
                        </div>
                    </div>

                    <div style="margin-top: 15px; padding: 18px; background: linear-gradient(135deg, rgba(196,160,0,0.25) 0%, rgba(196,160,0,0.15) 100%); border-radius: 10px; border: 1px solid rgba(196,160,0,0.3);">
                        <h4 style="color: #F5E6A3; margin: 0 0 15px 0; font-size: 1.1em;">üìã Your Results Summary</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 15px;">
                            <div style="background: rgba(255,255,255,0.1); padding: 12px; border-radius: 8px;">
                                <div style="font-size: 0.75em; opacity: 0.7; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 4px;">Primary Leadership Style</div>
                                <div style="font-size: 1.2em; font-weight: 700; color: #F5E6A3;">${primary.name}</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.1); padding: 12px; border-radius: 8px;">
                                <div style="font-size: 0.75em; opacity: 0.7; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 4px;">Secondary Leadership Style</div>
                                <div style="font-size: 1.2em; font-weight: 700; color: #F5E6A3;">${secondary.name}</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.1); padding: 12px; border-radius: 8px;">
                                <div style="font-size: 0.75em; opacity: 0.7; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 4px;">Style Clarity</div>
                                <div style="font-size: 1.1em; font-weight: 600;">${styleClarity} (${primaryPct}%)</div>
                            </div>
                            <div style="background: rgba(255,255,255,0.1); padding: 12px; border-radius: 8px;">
                                <div style="font-size: 0.75em; opacity: 0.7; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 4px;">Leadership Flexibility</div>
                                <div style="font-size: 1.1em; font-weight: 600;">${flexibility}</div>
                            </div>
                        </div>
                        <div style="font-size: 0.85em; opacity: 0.9; margin-bottom: 10px;">
                            <strong>Your Scores:</strong> Directing: ${scores.directing} | Coaching: ${scores.coaching} | Supporting: ${scores.supporting} | Delegating: ${scores.delegating}
                        </div>
                        <div style="font-size: 0.75em; opacity: 0.8; border-top: 1px solid rgba(255,255,255,0.2); padding-top: 10px;">
                            <div style="margin-bottom: 6px;"><strong>Your Result:</strong> ${codeExplanation}</div>
                            <div style="opacity: 0.7;"><span>Tracker Code:</span> <code style="background: rgba(0,0,0,0.3); padding: 2px 6px; border-radius: 3px;">${trackerCode}</code></div>
                        </div>
                    </div>
                </div>

                <div class="results-body">
                    <div class="situational-grid-container">
                        <h4>üìä Your Position on the Situational Leadership Grid</h4>
                        <p style="text-align: center; color: var(--text-secondary); margin-bottom: 20px; font-size: 0.9em;">Directive Behavior (Task) vs. Supportive Behavior (Relationship)</p>
                        <div class="sit-grid">
                            <div class="sit-ylabel">Supportive Behavior ‚Üí</div>
                            <div class="sit-cell s2 ${primaryStyle === 'coaching' ? 'highlight' : ''}">
                                <div class="cell-icon">üéØ</div>
                                <div class="cell-name">Coaching</div>
                                <div class="cell-score">${scores.coaching}</div>
                            </div>
                            <div class="sit-cell s3 ${primaryStyle === 'supporting' ? 'highlight' : ''}">
                                <div class="cell-icon">ü§ù</div>
                                <div class="cell-name">Supporting</div>
                                <div class="cell-score">${scores.supporting}</div>
                            </div>
                            <div class="sit-cell s1 ${primaryStyle === 'directing' ? 'highlight' : ''}">
                                <div class="cell-icon">üìã</div>
                                <div class="cell-name">Directing</div>
                                <div class="cell-score">${scores.directing}</div>
                            </div>
                            <div class="sit-cell s4 ${primaryStyle === 'delegating' ? 'highlight' : ''}">
                                <div class="cell-icon">üöÄ</div>
                                <div class="cell-name">Delegating</div>
                                <div class="cell-score">${scores.delegating}</div>
                            </div>
                            <div class="sit-xlabel">Directive Behavior ‚Üí</div>
                        </div>
                    </div>

                    <div class="type-card ${primaryStyle}">
                        <div class="type-label primary">Primary Leadership Style</div>
                        <div class="type-header">
                            <div class="type-icon ${primaryStyle}">${primary.icon}</div>
                            <div class="type-info">
                                <h3>${primary.name} (${primary.code})</h3>
                                <div class="type-subtitle">${primary.subtitle}</div>
                            </div>
                        </div>
                        <p class="type-description">${primary.description}</p>
                        
                        <!-- Enhanced Profile Section -->
                        <div style="background: linear-gradient(135deg, #fffef8 0%, #fef9e7 100%); padding: 20px; border-radius: 12px; margin: 20px 0; border-left: 4px solid #C4A000;">
                            <h5 style="color: var(--chapman-blue); margin-bottom: 12px;">üìã Your Leadership Profile</h5>
                            <p style="color: var(--text-secondary); margin-bottom: 15px; line-height: 1.7;">${primary.profileSummary}</p>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                                <div style="padding: 12px; background: rgba(0,32,91,0.05); border-radius: 8px;">
                                    <strong style="color: var(--chapman-blue); font-size: 0.85em; text-transform: uppercase;">Leadership Approach</strong>
                                    <p style="margin-top: 5px; font-size: 0.9em; color: var(--text-secondary);">${primary.leadershipApproach}</p>
                                </div>
                                <div style="padding: 12px; background: rgba(0,32,91,0.05); border-radius: 8px;">
                                    <strong style="color: var(--chapman-blue); font-size: 0.85em; text-transform: uppercase;">Situational Fit</strong>
                                    <p style="margin-top: 5px; font-size: 0.9em; color: var(--text-secondary);">${primary.situationalFit}</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="behavior-tags">
                            <span class="behavior-tag directive">Directive: ${primary.directive}</span>
                            <span class="behavior-tag supportive">Supportive: ${primary.supportive}</span>
                        </div>
                        <div class="when-grid">
                            <div class="when-box use">
                                <h5>‚úì When to Use This Style</h5>
                                <ul>${primary.whenToUse.map(w => `<li>${w}</li>`).join('')}</ul>
                            </div>
                            <div class="when-box caution">
                                <h5>‚ö†Ô∏è Use With Caution</h5>
                                <ul>${primary.caution.map(c => `<li>${c}</li>`).join('')}</ul>
                            </div>
                        </div>
                    </div>

                    <div class="type-card ${secondaryStyle}" style="border-top-width: 3px;">
                        <div class="type-label secondary">Secondary Leadership Style</div>
                        <div class="type-header">
                            <div class="type-icon ${secondaryStyle}">${secondary.icon}</div>
                            <div class="type-info">
                                <h3>${secondary.name} (${secondary.code})</h3>
                                <div class="type-subtitle">${secondary.subtitle}</div>
                            </div>
                        </div>
                        <p class="type-description">${secondary.description}</p>
                    </div>
                    
                    <!-- SWOT Preview Section -->
                    <div style="background: linear-gradient(135deg, var(--blue-light) 0%, #f0f4fa 100%); border-radius: 14px; padding: 25px; margin: 20px 0; border: 2px solid var(--chapman-blue);">
                        <h4 style="color: var(--chapman-blue); margin-bottom: 15px; font-size: 1.2em;">üìä SWOT Analysis Preview (For Assessment Tracker)</h4>
                        <p style="color: var(--text-secondary); font-size: 0.9em; margin-bottom: 15px;">This preview shows how your Leadership Style will contribute to your comprehensive SWOT analysis.</p>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div style="background: #E8F5E9; padding: 15px; border-radius: 10px; border-left: 4px solid #2E7D32;">
                                <strong style="color: #2E7D32; font-size: 0.9em;">STRENGTH</strong>
                                <p style="font-size: 0.9em; margin-top: 5px; color: var(--text-secondary);">${primary.swotStrength}</p>
                            </div>
                            <div style="background: #FFEBEE; padding: 15px; border-radius: 10px; border-left: 4px solid #C62828;">
                                <strong style="color: #C62828; font-size: 0.9em;">WEAKNESS</strong>
                                <p style="font-size: 0.9em; margin-top: 5px; color: var(--text-secondary);">${primary.swotWeakness}</p>
                            </div>
                            <div style="background: #E3F2FD; padding: 15px; border-radius: 10px; border-left: 4px solid #1565C0;">
                                <strong style="color: #1565C0; font-size: 0.9em;">OPPORTUNITY</strong>
                                <p style="font-size: 0.9em; margin-top: 5px; color: var(--text-secondary);">${primary.swotOpportunity}</p>
                            </div>
                            <div style="background: #FFF3E0; padding: 15px; border-radius: 10px; border-left: 4px solid #E65100;">
                                <strong style="color: #E65100; font-size: 0.9em;">THREAT</strong>
                                <p style="font-size: 0.9em; margin-top: 5px; color: var(--text-secondary);">${primary.swotThreat}</p>
                            </div>
                        </div>
                    </div>

                    <div class="readiness-section">
                        <h4>üéØ Matching Leadership Style to Employee Readiness</h4>
                        <p style="color: var(--text-secondary); margin-bottom: 20px;">The key to Situational Leadership is matching your style to the readiness level of the person you're leading. Here's how the four readiness levels match to leadership styles:</p>
                        <div class="readiness-grid">
                            <div class="readiness-card r1">
                                <div class="r-level">Low Readiness</div>
                                <div class="r-desc">Unable & Insecure</div>
                                <div class="r-style">‚Üí Use Directing</div>
                            </div>
                            <div class="readiness-card r2">
                                <div class="r-level">Low-Moderate Readiness</div>
                                <div class="r-desc">Unable but Willing</div>
                                <div class="r-style">‚Üí Use Coaching</div>
                            </div>
                            <div class="readiness-card r3">
                                <div class="r-level">Moderate-High Readiness</div>
                                <div class="r-desc">Able but Insecure</div>
                                <div class="r-style">‚Üí Use Supporting</div>
                            </div>
                            <div class="readiness-card r4">
                                <div class="r-level">High Readiness</div>
                                <div class="r-desc">Able & Confident</div>
                                <div class="r-style">‚Üí Use Delegating</div>
                            </div>
                        </div>
                    </div>

                    <div class="result-section">
                        <h4>üí° Key Behaviors of Your Primary Style</h4>
                        <ul style="list-style: none; padding: 0;">
                            ${primary.behaviors.map(b => `
                                <li style="padding: 12px 0 12px 32px; position: relative; color: var(--text-secondary); border-bottom: 1px solid #f0f2f5;">
                                    <span style="position: absolute; left: 0; color: var(--chapman-gold); font-weight: bold;">‚úì</span>
                                    ${b}
                                </li>
                            `).join('')}
                        </ul>
                    </div>

                    <div class="result-section gold-accent">
                        <h4>üîÑ Developing Leadership Flexibility</h4>
                        <p style="color: var(--text-secondary); margin-bottom: 20px;">Effective leaders adapt their style based on the situation. Here's when to use each style:</p>
                        <div class="flex-grid">
                            <div class="flex-card directing">
                                <h5>üìã Use Directing When:</h5>
                                <p>Employee is new, inexperienced, or in a crisis requiring clear instructions and close oversight.</p>
                            </div>
                            <div class="flex-card coaching">
                                <h5>üéØ Use Coaching When:</h5>
                                <p>Employee has some skill but needs development, or is losing motivation and needs both guidance and encouragement.</p>
                            </div>
                            <div class="flex-card supporting">
                                <h5>ü§ù Use Supporting When:</h5>
                                <p>Employee is capable but lacks confidence, or needs emotional support more than task direction.</p>
                            </div>
                            <div class="flex-card delegating">
                                <h5>üöÄ Use Delegating When:</h5>
                                <p>Employee is both skilled and motivated‚Äîgive them autonomy and trust their judgment.</p>
                            </div>
                        </div>
                    </div>

                    <div class="result-section">
                        <h4>üìä Your Style Distribution</h4>
                        <p style="color: var(--text-secondary); margin-bottom: 15px;">A well-rounded leader can flex between all four styles. Here's your current distribution:</p>
                        <div style="display: grid; gap: 10px;">
                            ${Object.entries(scores).map(([style, score]) => {
                                const data = styleData[style];
                                const percentage = (score / 20) * 100;
                                return `
                                    <div style="display: flex; align-items: center; gap: 15px;">
                                        <span style="width: 100px; font-weight: 600; color: var(--text-secondary);">${data.name}</span>
                                        <div style="flex: 1; height: 24px; background: #e8ecf0; border-radius: 12px; overflow: hidden;">
                                            <div style="height: 100%; width: ${percentage}%; background: ${data.color}; border-radius: 12px; display: flex; align-items: center; justify-content: flex-end; padding-right: 10px; color: white; font-weight: 600; font-size: 0.85em;">${score}</div>
                                        </div>
                                        <span style="width: 50px; text-align: right; color: var(--text-secondary);">${percentage.toFixed(0)}%</span>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                    </div>

                    <div class="reflection-section">
                        <h4>ü§î Reflection Questions</h4>
                        <div class="reflection-questions">
                            <div class="reflection-question">Think of a team member you work with. What is their readiness level? Are you using the appropriate leadership style with them?</div>
                            <div class="reflection-question">What style do you tend to overuse? What style do you avoid? Why might that be?</div>
                            <div class="reflection-question">How might your default leadership style be perceived by employees at different readiness levels?</div>
                            <div class="reflection-question">Describe a situation where you used the wrong leadership style. What was the outcome?</div>
                            <div class="reflection-question">What specific actions can you take to develop flexibility in your least-used styles?</div>
                            <div class="reflection-question">How can you better assess employee readiness before choosing your approach?</div>
                        </div>
                    </div>
                </div>
            `;

            document.getElementById('assessment-section').classList.add('hidden');
            resultsDiv.style.display = 'block';
            document.getElementById('downloadSection').classList.remove('hidden');
            resultsDiv.scrollIntoView({ behavior: 'smooth' });

            window.leadershipResults = { scores, primaryStyle, secondaryStyle };
        }

        function generatePDF() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            const { scores, primaryStyle, secondaryStyle } = window.leadershipResults;
            const primary = styleData[primaryStyle];
            const secondary = styleData[secondaryStyle];

            // Colors
            const chapmanBlue = [0, 32, 91];
            const chapmanGold = [196, 160, 0];
            const textDark = [26, 26, 46];
            const textMuted = [100, 100, 110];
            const greenColor = [46, 125, 50];
            const redColor = [198, 40, 40];
            const blueColor = [21, 101, 192];
            const orangeColor = [230, 81, 0];

            // Calculate tracker metrics
            const totalScore = scores.directing + scores.coaching + scores.supporting + scores.delegating;
            const primaryPct = Math.round((scores[primaryStyle] / totalScore) * 100);
            const styleClarity = primaryPct >= 40 ? 'Strong' : primaryPct >= 30 ? 'Moderate' : 'Balanced';
            const taskScore = scores.directing + scores.coaching;
            const relationshipScore = scores.supporting + scores.delegating;
            const orientation = taskScore > relationshipScore ? 'Task-Focused' : 'Relationship-Focused';
            const flexIndex = 20 - (Math.max(...Object.values(scores)) - Math.min(...Object.values(scores)));
            const flexibility = flexIndex >= 15 ? 'High' : flexIndex >= 10 ? 'Moderate' : 'Low';
            const styleAbbrev = { directing: 'S1', coaching: 'S2', supporting: 'S3', delegating: 'S4' };
            const styleNames = { directing: 'Directing', coaching: 'Coaching', supporting: 'Supporting', delegating: 'Delegating' };
            const trackerCode = 'LSA-' + styleAbbrev[primaryStyle] + styleAbbrev[secondaryStyle] + '-' + styleClarity.charAt(0);
            const codeExplanation = styleNames[primaryStyle] + ' (primary) + ' + styleNames[secondaryStyle] + ' (secondary) | ' + styleClarity;

            // Helper function to add text with word wrap
            function addWrappedText(text, x, startY, maxWidth, lineHeight) {
                const lines = doc.splitTextToSize(text, maxWidth);
                let currentY = startY;
                lines.forEach(function(line) {
                    if (currentY > 275) { doc.addPage(); currentY = 20; }
                    doc.text(line, x, currentY);
                    currentY += lineHeight;
                });
                return currentY;
            }

            // ===== PAGE 1: Header and Primary Style Overview =====
            doc.setFillColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.rect(0, 0, 210, 42, 'F');
            doc.setFontSize(10);
            doc.setTextColor(255, 255, 255);
            doc.text('CHAPMAN UNIVERSITY', 105, 12, { align: 'center' });
            doc.setFontSize(9);
            doc.setTextColor(chapmanGold[0], chapmanGold[1], chapmanGold[2]);
            doc.text('Argyros College of Business and Economics', 105, 18, { align: 'center' });
            doc.setFontSize(16);
            doc.setTextColor(255, 255, 255);
            doc.text('Leadership Style Assessment', 105, 28, { align: 'center' });
            doc.setFontSize(9);
            doc.text('Based on Situational Leadership Theory', 105, 36, { align: 'center' });
            doc.setFillColor(chapmanGold[0], chapmanGold[1], chapmanGold[2]);
            doc.rect(0, 42, 210, 2, 'F');

            let y = 52;

            // Student Info
            doc.setFontSize(10);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            doc.text('Student: ' + studentName, 20, y);
            doc.text('Date: ' + new Date(surveyDate).toLocaleDateString(), 140, y);
            y += 10;

            // Primary Style Banner
            doc.setFillColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.roundedRect(20, y, 170, 16, 2, 2, 'F');
            doc.setFontSize(13);
            doc.setTextColor(255, 255, 255);
            doc.text('PRIMARY STYLE: ' + primary.name.toUpperCase() + ' (' + primary.code + ')', 105, y + 11, { align: 'center' });
            y += 22;

            doc.setFontSize(10);
            doc.setTextColor(chapmanGold[0], chapmanGold[1], chapmanGold[2]);
            doc.text(primary.subtitle, 105, y, { align: 'center' });
            y += 6;
            doc.setFontSize(9);
            doc.setTextColor(textMuted[0], textMuted[1], textMuted[2]);
            doc.text('Secondary Style: ' + secondary.name + ' (' + secondary.code + ')', 105, y, { align: 'center' });
            y += 10;

            // Score Distribution Box
            doc.setFillColor(245, 247, 250);
            doc.roundedRect(20, y, 170, 28, 2, 2, 'F');
            doc.setFontSize(9);
            doc.setTextColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.text('SCORE DISTRIBUTION', 25, y + 7);
            doc.setFontSize(8);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            doc.text('S1 Directing: ' + scores.directing + '/20', 25, y + 15);
            doc.text('S2 Coaching: ' + scores.coaching + '/20', 80, y + 15);
            doc.text('S3 Supporting: ' + scores.supporting + '/20', 135, y + 15);
            doc.text('S4 Delegating: ' + scores.delegating + '/20', 25, y + 23);
            doc.text('Clarity: ' + styleClarity + ' (' + primaryPct + '%)', 80, y + 23);
            doc.text('Orientation: ' + orientation, 135, y + 23);
            y += 34;

            // Tracker Code Box
            doc.setFillColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.roundedRect(20, y, 170, 16, 2, 2, 'F');
            doc.setFontSize(8);
            doc.setTextColor(255, 255, 255);
            doc.text('Your Result: ' + codeExplanation, 105, y + 5, { align: 'center' });
            doc.setFontSize(7);
            doc.text('Tracker Code: ' + trackerCode + '  |  Scores: S1-' + scores.directing + ' S2-' + scores.coaching + ' S3-' + scores.supporting + ' S4-' + scores.delegating + '  |  Flexibility: ' + flexibility, 105, y + 12, { align: 'center' });
            y += 22;

            // Profile Summary
            doc.setFontSize(10);
            doc.setTextColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.text('YOUR LEADERSHIP PROFILE', 20, y);
            y += 6;
            doc.setFontSize(9);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            y = addWrappedText(primary.profileSummary, 20, y, 170, 4.5);
            y += 4;

            // Leadership Approach
            doc.setFontSize(10);
            doc.setTextColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.text('Leadership Approach', 20, y);
            y += 5;
            doc.setFontSize(9);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            y = addWrappedText(primary.leadershipApproach, 20, y, 170, 4.5);
            y += 4;

            // Situational Fit
            doc.setFontSize(10);
            doc.setTextColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.text('Situational Fit', 20, y);
            y += 5;
            doc.setFontSize(9);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            y = addWrappedText(primary.situationalFit, 20, y, 170, 4.5);
            y += 4;

            // Key Behaviors
            doc.setFontSize(10);
            doc.setTextColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.text('Key Leadership Behaviors', 20, y);
            y += 5;
            doc.setFontSize(9);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            primary.behaviors.forEach(function(b) {
                if (y > 275) { doc.addPage(); y = 20; }
                doc.text('- ' + b, 25, y);
                y += 4.5;
            });
            y += 4;

            // When to Use / Caution side by side
            doc.setFontSize(10);
            doc.setTextColor(greenColor[0], greenColor[1], greenColor[2]);
            doc.text('When to Use This Style', 20, y);
            doc.setTextColor(redColor[0], redColor[1], redColor[2]);
            doc.text('Use With Caution', 115, y);
            y += 5;
            doc.setFontSize(8);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            const maxItems = Math.max(primary.whenToUse.length, primary.caution.length);
            for (let i = 0; i < maxItems; i++) {
                if (y > 275) { doc.addPage(); y = 20; }
                if (primary.whenToUse[i]) {
                    const whenLines = doc.splitTextToSize('- ' + primary.whenToUse[i], 85);
                    whenLines.forEach(function(line) { doc.text(line, 22, y); y += 4; });
                    y -= 4 * whenLines.length;
                }
                if (primary.caution[i]) {
                    const cautionLines = doc.splitTextToSize('- ' + primary.caution[i], 85);
                    cautionLines.forEach(function(line, idx) { doc.text(line, 117, y + (idx * 4)); });
                }
                y += 8;
            }

            // ===== PAGE 2: DEEP BEHAVIORAL PROFILE =====
            doc.addPage();
            y = 20;

            // Deep Profile Header
            doc.setFillColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.roundedRect(20, y, 170, 12, 2, 2, 'F');
            doc.setFontSize(12);
            doc.setTextColor(255, 255, 255);
            doc.text('DEEP BEHAVIORAL PROFILE', 105, y + 8, { align: 'center' });
            y += 18;

            doc.setFontSize(9);
            doc.setTextColor(textMuted[0], textMuted[1], textMuted[2]);
            doc.text('Understanding how your ' + primary.name + ' style manifests in workplace behaviors', 105, y, { align: 'center' });
            y += 10;

            // Decision Style
            doc.setFillColor(245, 247, 250);
            doc.roundedRect(20, y, 170, 4, 1, 1, 'F');
            doc.setFontSize(10);
            doc.setTextColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.text('DECISION-MAKING STYLE', 25, y + 3);
            y += 8;
            doc.setFontSize(9);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            y = addWrappedText(primary.decisionStyle, 20, y, 170, 4.5);
            y += 6;

            // Communication Style
            doc.setFillColor(245, 247, 250);
            doc.roundedRect(20, y, 170, 4, 1, 1, 'F');
            doc.setFontSize(10);
            doc.setTextColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.text('COMMUNICATION STYLE', 25, y + 3);
            y += 8;
            doc.setFontSize(9);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            y = addWrappedText(primary.communicationStyle, 20, y, 170, 4.5);
            y += 6;

            // Motivated By
            doc.setFillColor(245, 247, 250);
            doc.roundedRect(20, y, 170, 4, 1, 1, 'F');
            doc.setFontSize(10);
            doc.setTextColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.text('MOTIVATED BY', 25, y + 3);
            y += 8;
            doc.setFontSize(9);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            y = addWrappedText(primary.motivatedBy, 20, y, 170, 4.5);
            y += 6;

            // Stress Response
            doc.setFillColor(255, 243, 224);
            doc.roundedRect(20, y, 170, 4, 1, 1, 'F');
            doc.setFontSize(10);
            doc.setTextColor(orangeColor[0], orangeColor[1], orangeColor[2]);
            doc.text('STRESS RESPONSE', 25, y + 3);
            y += 8;
            doc.setFontSize(9);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            y = addWrappedText(primary.stressResponse, 20, y, 170, 4.5);
            y += 6;

            // Blind Spots
            doc.setFillColor(255, 235, 238);
            doc.roundedRect(20, y, 170, 4, 1, 1, 'F');
            doc.setFontSize(10);
            doc.setTextColor(redColor[0], redColor[1], redColor[2]);
            doc.text('BLIND SPOTS', 25, y + 3);
            y += 8;
            doc.setFontSize(9);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            y = addWrappedText(primary.blindSpots, 20, y, 170, 4.5);
            y += 10;

            // Working With Other Styles
            doc.setFillColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.roundedRect(20, y, 170, 10, 2, 2, 'F');
            doc.setFontSize(10);
            doc.setTextColor(255, 255, 255);
            doc.text('WORKING WITH OTHER LEADERSHIP STYLES', 105, y + 7, { align: 'center' });
            y += 16;

            doc.setFontSize(9);
            const otherStyles = Object.keys(primary.worksWith);
            otherStyles.forEach(function(style) {
                if (y > 270) { doc.addPage(); y = 20; }
                doc.setTextColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
                doc.text('With ' + style.charAt(0).toUpperCase() + style.slice(1) + ' Leaders:', 20, y);
                y += 5;
                doc.setTextColor(textDark[0], textDark[1], textDark[2]);
                y = addWrappedText(primary.worksWith[style], 25, y, 165, 4.5);
                y += 4;
            });

            // ===== PAGE 3: SWOT Analysis =====
            doc.addPage();
            y = 20;

            // SWOT Header
            doc.setFillColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.roundedRect(20, y, 170, 10, 2, 2, 'F');
            doc.setFontSize(11);
            doc.setTextColor(255, 255, 255);
            doc.text('SWOT ANALYSIS - ' + primary.name + ' Leadership Style', 105, y + 7, { align: 'center' });
            y += 18;

            // SWOT Grid - 2x2
            const boxW = 82;
            const boxH = 32;

            // Strength Box
            doc.setFillColor(232, 245, 233);
            doc.roundedRect(20, y, boxW, boxH, 2, 2, 'F');
            doc.setDrawColor(greenColor[0], greenColor[1], greenColor[2]);
            doc.setLineWidth(0.5);
            doc.line(20, y, 20, y + boxH);
            doc.setFontSize(9);
            doc.setTextColor(greenColor[0], greenColor[1], greenColor[2]);
            doc.text('STRENGTH', 25, y + 7);
            doc.setFontSize(8);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            const sLines = doc.splitTextToSize(primary.swotStrength, boxW - 10);
            sLines.forEach(function(line, i) { if (i < 4) doc.text(line, 25, y + 13 + (i * 4)); });

            // Weakness Box
            doc.setFillColor(255, 235, 238);
            doc.roundedRect(108, y, boxW, boxH, 2, 2, 'F');
            doc.setDrawColor(redColor[0], redColor[1], redColor[2]);
            doc.line(108, y, 108, y + boxH);
            doc.setFontSize(9);
            doc.setTextColor(redColor[0], redColor[1], redColor[2]);
            doc.text('WEAKNESS', 113, y + 7);
            doc.setFontSize(8);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            const wLines = doc.splitTextToSize(primary.swotWeakness, boxW - 10);
            wLines.forEach(function(line, i) { if (i < 4) doc.text(line, 113, y + 13 + (i * 4)); });

            y += boxH + 5;

            // Opportunity Box
            doc.setFillColor(227, 242, 253);
            doc.roundedRect(20, y, boxW, boxH, 2, 2, 'F');
            doc.setDrawColor(blueColor[0], blueColor[1], blueColor[2]);
            doc.line(20, y, 20, y + boxH);
            doc.setFontSize(9);
            doc.setTextColor(blueColor[0], blueColor[1], blueColor[2]);
            doc.text('OPPORTUNITY', 25, y + 7);
            doc.setFontSize(8);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            const oLines = doc.splitTextToSize(primary.swotOpportunity, boxW - 10);
            oLines.forEach(function(line, i) { if (i < 4) doc.text(line, 25, y + 13 + (i * 4)); });

            // Threat Box
            doc.setFillColor(255, 243, 224);
            doc.roundedRect(108, y, boxW, boxH, 2, 2, 'F');
            doc.setDrawColor(orangeColor[0], orangeColor[1], orangeColor[2]);
            doc.line(108, y, 108, y + boxH);
            doc.setFontSize(9);
            doc.setTextColor(orangeColor[0], orangeColor[1], orangeColor[2]);
            doc.text('THREAT', 113, y + 7);
            doc.setFontSize(8);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            const tLines = doc.splitTextToSize(primary.swotThreat, boxW - 10);
            tLines.forEach(function(line, i) { if (i < 4) doc.text(line, 113, y + 13 + (i * 4)); });

            y += boxH + 15;

            // Situational Leadership Model
            doc.setFontSize(11);
            doc.setTextColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.text('SITUATIONAL LEADERSHIP MODEL', 20, y);
            y += 8;

            doc.setFontSize(9);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            doc.text('Match your leadership style to employee readiness level:', 20, y);
            y += 8;

            const readinessData = [
                { level: 'R1: Unable & Insecure', style: 'S1: Directing', desc: 'Provide specific instructions and close supervision' },
                { level: 'R2: Unable but Willing', style: 'S2: Coaching', desc: 'Explain decisions and provide opportunity for clarification' },
                { level: 'R3: Able but Insecure', style: 'S3: Supporting', desc: 'Share ideas and facilitate in decision-making' },
                { level: 'R4: Able & Confident', style: 'S4: Delegating', desc: 'Turn over responsibility for decisions and implementation' }
            ];

            doc.setFontSize(8);
            readinessData.forEach(function(r) {
                doc.setTextColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
                doc.text(r.level + ' --> ' + r.style, 25, y);
                doc.setTextColor(textMuted[0], textMuted[1], textMuted[2]);
                y = addWrappedText(r.desc, 95, y, 95, 4);
                y += 2;
            });
            y += 8;

            // Your Best Match
            doc.setFillColor(255, 254, 245);
            doc.setDrawColor(chapmanGold[0], chapmanGold[1], chapmanGold[2]);
            doc.roundedRect(20, y, 170, 18, 2, 2, 'FD');
            doc.setFontSize(9);
            doc.setTextColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.text('Your Best Match:', 25, y + 7);
            doc.setFontSize(8);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            const matchLines = doc.splitTextToSize(primary.readinessMatch, 155);
            matchLines.forEach(function(line, i) { doc.text(line, 25, y + 12 + (i * 4)); });
            y += 26;

            // Reflection Questions
            doc.setFillColor(chapmanBlue[0], chapmanBlue[1], chapmanBlue[2]);
            doc.roundedRect(20, y, 170, 10, 2, 2, 'F');
            doc.setFontSize(10);
            doc.setTextColor(255, 255, 255);
            doc.text('REFLECTION QUESTIONS', 105, y + 7, { align: 'center' });
            y += 16;

            const reflectionQs = [
                'Think of a team member you work with. What is their readiness level? Are you using the appropriate leadership style with them?',
                'What style do you tend to overuse? What style do you avoid? Why might that be?',
                'How might your default leadership style be perceived by employees at different readiness levels?',
                'Describe a situation where you used the wrong leadership style. What was the outcome?',
                'What specific actions can you take to develop flexibility in your least-used styles?'
            ];
            doc.setFontSize(8);
            doc.setTextColor(textDark[0], textDark[1], textDark[2]);
            reflectionQs.forEach(function(q, i) {
                if (y > 275) { doc.addPage(); y = 20; }
                const qLines = doc.splitTextToSize((i + 1) + '. ' + q, 165);
                qLines.forEach(function(line) { doc.text(line, 25, y); y += 4; });
                y += 3;
            });

            // Footer on all pages
            const pageCount = doc.internal.getNumberOfPages();
            for (let i = 1; i <= pageCount; i++) {
                doc.setPage(i);
                doc.setFontSize(8);
                doc.setTextColor(textMuted[0], textMuted[1], textMuted[2]);
                doc.text('Page ' + i + ' of ' + pageCount, 105, 287, { align: 'center' });
                doc.text('Chapman University - Argyros College of Business and Economics - MGMT 316', 105, 292, { align: 'center' });
            }

            doc.save('Leadership_Style_Assessment_' + studentName.replace(/\s+/g, '_') + '_' + new Date().toISOString().split('T')[0] + '.pdf');
        }

        function restartAssessment() {
            currentQuestion = 0;
            responses = {};
            document.getElementById('studentName').value = '';
            document.getElementById('testDate').value = new Date().toISOString().split('T')[0];
            document.getElementById('results').style.display = 'none';
            document.getElementById('assessment-section').classList.add('hidden');
            document.getElementById('downloadSection').classList.add('hidden');
            document.getElementById('intro-section').classList.remove('hidden');
            document.getElementById('progressFill').style.width = '0%';
            window.scrollTo(0, 0);
        }
    </script>
</body>
</html>
